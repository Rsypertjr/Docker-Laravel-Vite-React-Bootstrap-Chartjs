import{g as ae,r as p,a as u,j as E}from"./app-33e0e813.js";import{a as re,C as P}from"./Col-c3c577e8.js";import{C as I,R as b}from"./Row-fb1f9ce4.js";var G={};(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var d=j(p),y=x(re);function x(t){return t&&t.__esModule?t:{default:t}}function k(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return k=function(){return t},t}function j(t){if(t&&t.__esModule)return t;if(t===null||_(t)!=="object"&&typeof t!="function")return{default:t};var a=k();if(a&&a.has(t))return a.get(t);var n={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=e?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=t[r]}return n.default=t,a&&a.set(t,n),n}function _(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(n){return typeof n}:_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_(t)}function N(){return N=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},N.apply(this,arguments)}function R(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,e)}return n}function T(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?R(n,!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function V(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function M(t,a){for(var n=0;n<a.length;n++){var e=a[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function A(t,a,n){return a&&M(t.prototype,a),n&&M(t,n),t}function f(t,a){return a&&(_(a)==="object"||typeof a=="function")?a:O(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},g(t)}function O(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),a&&S(t,a)}function S(t,a){return S=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},S(t,a)}var L="Select...",W=function(t){v(a,t);function a(n){var e;return V(this,a),e=f(this,g(a).call(this,n)),e.state={selected:e.parseValue(n.value,n.options)||{label:typeof n.placeholder>"u"?L:n.placeholder,value:""},isOpen:!1},e.dropdownRef=(0,d.createRef)(),e.mounted=!0,e.handleDocumentClick=e.handleDocumentClick.bind(O(e)),e.fireChangeEvent=e.fireChangeEvent.bind(O(e)),e}return A(a,[{key:"componentDidUpdate",value:function(e){if(this.props.value!==e.value)if(this.props.value){var r=this.parseValue(this.props.value,this.props.options);r!==this.state.selected&&this.setState({selected:r})}else this.setState({selected:{label:typeof this.props.placeholder>"u"?L:this.props.placeholder,value:""}})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&typeof this.props.onFocus=="function"&&this.props.onFocus(this.state.isOpen),!(e.type==="mousedown"&&e.button!==0)&&(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))}},{key:"parseValue",value:function(e,r){var s;if(typeof e=="string")for(var i=0,h=r.length;i<h;i++)if(r[i].type==="group"){var c=r[i].items.filter(function(m){return m.value===e});c.length&&(s=c[0])}else typeof r[i].value<"u"&&r[i].value===e&&(s=r[i]);return s||e}},{key:"setValue",value:function(e,r){var s={selected:{value:e,label:r},isOpen:!1};this.fireChangeEvent(s),this.setState(s)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e){var r,s=e.value;typeof s>"u"&&(s=e.label||e);var i=e.label||e.value||e,h=s===this.state.selected.value||s===this.state.selected,c=(r={},o(r,"".concat(this.props.baseClassName,"-option"),!0),o(r,e.className,!!e.className),o(r,"is-selected",h),r),m=(0,y.default)(c),w=Object.keys(e.data||{}).reduce(function(C,D){return T({},C,o({},"data-".concat(D),e.data[D]))},{});return d.default.createElement("div",N({key:s,className:m,onMouseDown:this.setValue.bind(this,s,i),onClick:this.setValue.bind(this,s,i),role:"option","aria-selected":h?"true":"false"},w),i)}},{key:"buildMenu",value:function(){var e=this,r=this.props,s=r.options,i=r.baseClassName,h=s.map(function(c){if(c.type==="group"){var m=d.default.createElement("div",{className:"".concat(i,"-title")},c.name),w=c.items.map(function(C){return e.renderOption(C)});return d.default.createElement("div",{className:"".concat(i,"-group"),key:c.name,role:"listbox",tabIndex:"-1"},m,w)}else return e.renderOption(c)});return h.length?h:d.default.createElement("div",{className:"".concat(i,"-noresults")},"No options found")}},{key:"handleDocumentClick",value:function(e){this.mounted&&(this.dropdownRef.current.contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1}))}},{key:"isValueSelected",value:function(){return typeof this.state.selected=="string"||this.state.selected.value!==""}},{key:"render",value:function(){var e,r,s,i,h,c=this.props,m=c.baseClassName,w=c.controlClassName,C=c.placeholderClassName,D=c.menuClassName,F=c.arrowClassName,H=c.arrowClosed,U=c.arrowOpen,q=c.className,z=this.props.disabled?"Dropdown-disabled":"",K=typeof this.state.selected=="string"?this.state.selected:this.state.selected.label,Q=(0,y.default)((e={},o(e,"".concat(m,"-root"),!0),o(e,q,!!q),o(e,"is-open",this.state.isOpen),e)),X=(0,y.default)((r={},o(r,"".concat(m,"-control"),!0),o(r,w,!!w),o(r,z,!!z),r)),Y=(0,y.default)((s={},o(s,"".concat(m,"-placeholder"),!0),o(s,C,!!C),o(s,"is-selected",this.isValueSelected()),s)),Z=(0,y.default)((i={},o(i,"".concat(m,"-menu"),!0),o(i,D,!!D),i)),ee=(0,y.default)((h={},o(h,"".concat(m,"-arrow"),!0),o(h,F,!!F),h)),te=d.default.createElement("div",{className:Y},K),ne=this.state.isOpen?d.default.createElement("div",{className:Z,"aria-expanded":"true"},this.buildMenu()):null;return d.default.createElement("div",{ref:this.dropdownRef,className:Q},d.default.createElement("div",{className:X,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},te,d.default.createElement("div",{className:"".concat(m,"-arrow-wrapper")},U&&H?this.state.isOpen?U:H:d.default.createElement("span",{className:ee}))),ne)}}]),a}(d.Component);W.defaultProps={baseClassName:"Dropdown"};var J=W;l.default=J})(G);const ue=ae(G);const se=[["1","one"],["2","two"],["3","three"],["4","four"],["5","five"]],B=[["1","High to Low"],["2","Largest Difference"],["3","Trump More Votes"],["4","Biden More Votes"],["5","No Analytics"]];function le(l){const[d,y]=p.useState("1"),[x,k]=p.useState(se),[j,_]=p.useState("Please Select Here"),[N,R]=p.useState("Select Chart Resolution"),[T,o]=p.useState("none");p.useState(!0),p.useState(""),p.useState(l.theResolutions[0].toString()),p.useState(l.chartData.chartArray);const V=f=>{if(console.log("Selected Text:",f),y(f.toString()),l.analytics!=="analytics")A(f.toString())=="Available"||parseInt(f.toString())<parseInt(l.parse_resolution)?l.selectResolution(f.toString()):(alert("Resolution "+f.toString()+" is not Available!"),y("1"),l.selectResolution("1"));else{let g=f.toString(),O=B.filter(v=>v[0]===g).map(v=>v[1].toString());console.log("Text Holder",O),l.selectAnalytics(O,l.chartData,l.chartType),o(O)}},M=({values:f,onValueChange:g,selected_option:O})=>E(I,{children:[u(b,{children:u("h4",{className:"d-flex justify-content-center rounded p-1",style:{backgroundColor:"lightblue"},children:N})}),u(b,{children:E("select",{onChange:({target:{value:v}})=>g(v),children:[u("option",{value:parseInt(d),children:j}),f.map(([v,S])=>u("option",{selected:O===v,value:v,children:S},v))]})})]}),A=p.useCallback(f=>{let g=(parseInt(l.pageNo)-1)*10*parseInt(f)+parseInt(f);return parseInt(g)<=l.theVotes.length?"Available":"Not Available"});return p.useEffect(()=>{$('[data-toggle="tooltip"]').tooltip(),l.analytics!==null&&l.analytics==="analytics"&&(k(B),R("Select Analyics Type"),y("1"))},[]),p.useEffect(()=>{console.log("Parse Resolution:",l.parse_resolution),y(l.parse_resolution)},[l.parse_resolution]),u(I,{className:"resolution",children:u(b,{children:u(P,{className:"col-12 d-flex justify-content-center",style:{fontSize:"1.5em"},children:E(I,{children:[u(b,{className:"w-100 mb-2",children:u(P,{className:"col-12 d-flex justify-content-center",children:u(M,{values:x,selected:d,onValueChange:V,className:"w-100"})})}),typeof l.analytics>"u"&&u(b,{className:"rounded",style:{backgroundColor:"lightgray"},children:u(P,{className:"col-12 p-1 d-flex justify-content-center align-middle",children:E("p",{children:["Resolution (data point multiplier) is ",d," "]})})}),l.analytics==="analytics"&&u(b,{className:"rounded",style:{backgroundColor:"lightgray"},children:u(P,{className:"col-12 p-1 d-flex justify-content-center align-middle",children:E("p",{children:["Analytics Type is ",u("font",{color:"blue",children:T})]})})}),l.analyticsIsOn&&u(b,{className:"rounded",style:{backgroundColor:"lightgray"},children:u(P,{className:"col-12 p-1 d-flex justify-content-center align-middle",children:u("p",{children:"Analytics is Now On!"})})})]})})})})}const de=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));export{ue as D,le as R,de as a};
